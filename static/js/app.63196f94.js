(function(){"use strict";var t={8438:function(t,e,n){var s=n(8935),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"sidebar"},[n("router-link",{staticClass:"sidebar-item",attrs:{"active-class":"active",to:"/home"}},[t._v(" 首页 ")]),n("router-link",{staticClass:"sidebar-item",attrs:{"active-class":"active",to:"/list"}},[t._v(" 列表 ")])],1),n("div",{staticClass:"main-warp"},[n("router-view")],1)])},o=[],a={name:"App",data(){return{msg:"测试一下ref"}},methods:{test(){console.log("--我是 App---",this.$refs.title)}}},i=a,u=n(1001),l=(0,u.Z)(i,r,o,!1,null,null,null),c=l.exports,d=n(2809),m=n(4665);s.Z.use(m.ZP);const h={namespaced:!0,actions:{onAddOdd(t,e){t.state.sum%2&&t.commit("ONADD",e)},onAddWait(t,e){setTimeout((()=>t.commit("ONADD",e)),500)}},mutations:{ONADD(t,e){t.sum+=e},ONSUBTRACT(t,e){t.sum-=e}},state:{sum:0},getters:{bigSum(t){return 10*t.sum}}};var p=new m.ZP.Store({modules:{test:h}}),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"school"},[n("h1",[t._v("我是首页")]),n("button",{on:{click:t.showCount}},[t._v(" 计数 ")]),n("button",[n("router-link",{staticClass:"sidebar-item",attrs:{"active-class":"active",to:"/home/gitusers"}},[t._v(" git用户 ")])],1),n("keep-alive",{attrs:{include:"Count"}},[n("router-view")],1)],1)},f=[],_={name:"Home",methods:{showX(){console.log("成功了！！")},showCount(){this.$router.push({path:"/home/count",query:{initNum:3}})}}},g=_,b=(0,u.Z)(g,v,f,!1,null,"1bb1703b",null),C=b.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"school"},[n("h1",[t._v("我是列表页")]),n("TodoList")],1)},k=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo-list"},[n("AddInput",{on:{onAdd:t.onItemAdd}}),n("Todos",{attrs:{datas:t.todoLs,onCheck:t.onItemCheck,onDelete:t.onItemDelete}}),n("Footer",{ref:"footer",attrs:{datas:t.todoLs}})],1)},S=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"add-input",attrs:{type:"text",placeholder:"请输入..."},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)},input:function(e){e.target.composing||(t.name=e.target.value)}}})])},x=[],N=n(562),w={name:"AddInput",data(){return{name:""}},methods:{add(){if(!this.name.trim())return alert("请输入名称");this.$emit("onAdd",{id:(0,N.x0)(),name:this.name,status:!1}),this.name=""}}},$=w,Z=(0,u.Z)($,O,x,!1,null,"615fdf41",null),T=Z.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition-group",{attrs:{appear:""}},t._l(t.datas,(function(e){return n("div",{key:e.id},[n("div",{staticClass:"todo-item"},[n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.status},on:{change:function(n){return t.onCheck(e.id)}}}),t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"delete-btn",on:{click:function(n){return t.onDelete(e.id)}}},[t._v("删除")])])])})),0)],1)},D=[],E={name:"Todos",props:["datas","onDelete","onCheck"]},I=E,U=(0,u.Z)(I,L,D,!1,null,"13d96a85",null),P=U.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(e){var n=t.isAll,s=e.target,r=!!s.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);s.checked?a<0&&(t.isAll=n.concat([o])):a>-1&&(t.isAll=n.slice(0,a).concat(n.slice(a+1)))}else t.isAll=r}}})]),t._v(" 已完成"+t._s(t.doneTotal)+" / 全部"+t._s(t.total)+" ")])},q=[],R={name:"Footer",props:["datas"],computed:{total(){return this.datas.length},doneTotal(){return this.datas.reduce(((t,e)=>{const n=e.status?1:0;return t+n}),0)},isAll:{get(){return this.doneTotal===this.total&&this.total>0},set(t){this.$emit("onCheckAll",t)}}}},F=R,J=(0,u.Z)(F,j,q,!1,null,"3c8f4e0c",null),B=J.exports,W={name:"TodoList",components:{AddInput:T,Todos:P,Footer:B},data(){return{todoLs:JSON.parse(localStorage.getItem("todos")||"[]")}},methods:{onItemAdd(t){this.todoLs.unshift(t)},onItemCheck(t){this.todoLs.forEach((e=>{e.id===t&&(e.status=!e.status)}))},onItemDelete(t){this.todoLs=this.todoLs.filter((e=>e.id!==t))},onCheckAll(t){this.todoLs.forEach((e=>{e.status=t}))}},watch:{todoLs:{deep:!0,handler(){localStorage.setItem("todos",JSON.stringify(this.todoLs))}}},mounted(){this.$refs.footer.$on("onCheckAll",this.onCheckAll)}},X=W,G=(0,u.Z)(X,y,S,!1,null,"43a31ee4",null),H=G.exports,M={name:"List",components:{TodoList:H},props:{name:{type:String,required:!0},number:{type:Number,default:999}},methods:{showX(){console.log("成功了！！")}}},z=M,K=(0,u.Z)(z,A,k,!1,null,"9be2d55a",null),Q=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"count"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search-input",attrs:{type:"text"},domProps:{value:t.searchStr},on:{input:function(e){e.target.composing||(t.searchStr=e.target.value)}}}),n("h1",[t._v("当前求和: "+t._s(t.sum))]),n("h4",[t._v("放大10倍: "+t._s(t.bigSum))]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:t.num,expression:"num",modifiers:{number:!0}}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var n="_value"in e?e._value:e.value;return t._n(n)}));t.num=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[t._v("1")]),n("option",{attrs:{value:"2"}},[t._v("2")]),n("option",{attrs:{value:"3"}},[t._v("3")])]),n("button",{on:{click:function(e){return t.ONADD(t.num)}}},[t._v("+")]),n("button",{on:{click:function(e){return t.ONSUBTRACT(t.num)}}},[t._v("-")]),n("button",{on:{click:function(e){return t.onAddOdd(t.num)}}},[t._v("当前求和奇数再加")]),n("button",{on:{click:function(e){return t.onAddWait(t.num)}}},[t._v("等一等再加")]),n("div",[t._v("定时器"+t._s(t.timerNum))])])},Y=[],tt={name:"Count",props:["initNum"],data(){return console.log(this.initNum),{searchStr:"",num:Number(this.initNum),timerNum:1}},computed:{...(0,m.rn)("test",["sum"]),...(0,m.Se)("test",["bigSum"])},methods:{...(0,m.OI)("test",["ONADD","ONSUBTRACT"]),...(0,m.nv)("test",["onAddOdd","onAddWait"])},mounted(){console.log((0,m.rn)("test",["sum"]))},activated(){this.timer=setInterval((()=>{this.timerNum+=1}),1e3)},deactivated(){clearInterval(this.timer)},beforeRouteEnter(t,e,n){n()},beforeRouteLeave(t,e,n){n()}},et=tt,nt=(0,u.Z)(et,V,Y,!1,null,"f68ac9aa",null),st=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"git-users"},[n("Count",{attrs:{initNum:2}}),n("Search"),n("List")],1)},ot=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("h2",[t._v("Search github users")]),n("div",{staticClass:"search-warp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search-input",attrs:{type:"text"},domProps:{value:t.searchStr},on:{input:function(e){e.target.composing||(t.searchStr=e.target.value)}}}),n("button",{on:{click:t.getUsers}},[t._v("搜 索")])])])},it=[],ut=n(6166),lt=n.n(ut),ct={props:["onSearch"],data(){return{searchStr:""}},methods:{getUsers(){lt().get(`https://api.github.com/search/users?q=${this.searchStr}`).then((t=>{console.log("请求失败",t.data),this.$bus.$emit("getUsers",t.data.items)}),(t=>{console.log("请求失败",t.message)}))}}},dt=ct,mt=(0,u.Z)(dt,at,it,!1,null,"0dc9e40e",null),ht=mt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-items"},t._l(t.users,(function(e){return n("div",{key:e.id,staticClass:"item"},[n("img",{attrs:{src:e.avatar_url}}),n("a",{attrs:{href:e.html_url,target:"_blank"}},[t._v(t._s(e.login))])])})),0)},vt=[],ft={data(){return{users:JSON.parse(localStorage.getItem("gitUsers")||"[]")}},mounted(){this.$bus.$on("getUsers",(t=>{this.users=t,localStorage.setItem("gitUsers",JSON.stringify(t))}))},beforeDestroy(){this.$bus.$off("getUsers")}},_t=ft,gt=(0,u.Z)(_t,pt,vt,!1,null,"8ab8c72e",null),bt=gt.exports,Ct={name:"GitUsers",components:{Search:ht,List:bt,Count:st}},At=Ct,kt=(0,u.Z)(At,rt,ot,!1,null,"185f0cdd",null),yt=kt.exports;const St=new d.Z({mode:"history",routes:[{path:"/home",component:C,children:[{path:"count",component:st,props(t){return{...t.query}}},{path:"gitusers",component:yt,props(t){return{id:t.query.id,name:t.query.name}}}]},{path:"/list",component:Q}]});var Ot=St;s.Z.use(d.Z),new s.Z({el:"#app",store:p,router:Ot,render:t=>t(c),beforeCreate(){s.Z.prototype.$bus=this}})}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,s,r,o){if(!s){var a=1/0;for(c=0;c<t.length;c++){s=t[c][0],r=t[c][1],o=t[c][2];for(var i=!0,u=0;u<s.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every((function(t){return n.O[t](s[u])}))?s.splice(u--,1):(i=!1,o<a&&(a=o));if(i){t.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[s,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,o,a=s[0],i=s[1],u=s[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)var c=u(n)}for(e&&e(s);l<a.length;l++)o=a[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},s=self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(8438)}));s=n.O(s)})();
//# sourceMappingURL=app.63196f94.js.map